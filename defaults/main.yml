---
## General defaults
## IMPORTANT:
## Versions are intentionally UNDEFINED by default.
## They are auto-detected from APT in install.yml unless explicitly set by the user.

# Versioning (auto-detected if undefined)
timescaledb_version: null
timescaledb_pg_extension_version: null
timescaledb_pg_major: null

timescaledb_pg_port: 5432

# Package source handling
# Native Debian repo is preferred.
# packagecloud.io is used ONLY when explicitly required and supported.
timescaledb_use_packagecloud: false

# packagecloud settings (used only if enabled explicitly)
timescaledb_deb_repo: "deb https://packagecloud.io/timescale/timescaledb {{ ansible_distribution_release }} main"
timescaledb_deb_key: "https://packagecloud.io/timescale/timescaledb/gpgkey"

# Computed internally when using packagecloud
timescaledb_release_name: null

timescaledb_private_tmp: true

## Multinode defaults
timescaledb_multinode_enabled: false
timescaledb_multinode_access_node: ""
timescaledb_multinode_data_nodes: []

## Multinode authentication
timescaledb_multinode_password_authentication_enabled: false
timescaledb_multinode_pgpass_template_file: .pgpass.j2
timescaledb_multinode_pgpass_path: /var/lib/postgresql

## Hostname resolution method
timescaledb_multinode_access_node_resolution_method: "{{ inventory_hostname }}"

timescaledb_autotune: false

# Posgtresql config
timescaledb_pg_user: "postgres"  # User running postgresql.
timescaledb_pg_group: "postgres"
timescaledb_pg_database: "timescaledb"  # Database in which to install timescaledb extension.
timescaledb_pg_conf:
  - shared_preload_libraries: "'timescaledb'"
  - timescaledb.telemetry_level: "off"
  # - timescaledb.passfile: "'{{ timescaledb_multinode_pgpass_path }}/.pgpass'" # Mandatory if you want to enable password authentication in a multi-node installation
